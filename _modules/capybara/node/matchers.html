
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>capybara.node.matchers &#8212; Capybara 0.1.6 documentation</title>
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for capybara.node.matchers</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="k">import</span> <span class="n">Hashable</span>

<span class="kn">import</span> <span class="nn">capybara</span>
<span class="kn">from</span> <span class="nn">capybara.exceptions</span> <span class="k">import</span> <span class="n">ExpectationNotMet</span>
<span class="kn">from</span> <span class="nn">capybara.helpers</span> <span class="k">import</span> <span class="n">expects_none</span><span class="p">,</span> <span class="n">matches_count</span>
<span class="kn">from</span> <span class="nn">capybara.selector</span> <span class="k">import</span> <span class="n">selectors</span>
<span class="kn">from</span> <span class="nn">capybara.queries.selector_query</span> <span class="k">import</span> <span class="n">SelectorQuery</span>
<span class="kn">from</span> <span class="nn">capybara.queries.style_query</span> <span class="k">import</span> <span class="n">StyleQuery</span>
<span class="kn">from</span> <span class="nn">capybara.queries.text_query</span> <span class="k">import</span> <span class="n">TextQuery</span>


<div class="viewcode-block" id="MatchersMixin"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin">[docs]</a><span class="k">class</span> <span class="nc">MatchersMixin</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<div class="viewcode-block" id="MatchersMixin.has_selector"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_selector">[docs]</a>    <span class="k">def</span> <span class="nf">has_selector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if a given selector is on the page or a descendant of the current node. ::</span>

<span class="sd">            page.has_selector(&quot;p#foo&quot;)</span>
<span class="sd">            page.has_selector(&quot;xpath&quot;, &quot;.//p[@id=&#39;foo&#39;]&quot;)</span>

<span class="sd">        By default it will check if the expression occurs at least once, but a different number can</span>
<span class="sd">        be specified. ::</span>

<span class="sd">            page.has_selector(&quot;p.foo&quot;, count=4)</span>

<span class="sd">        This will check if the expression occurs exactly 4 times.</span>

<span class="sd">        It also accepts all options that :meth:`find_all` accepts, such as ``text`` and</span>
<span class="sd">        ``visible``. ::</span>

<span class="sd">            page.has_selector(&quot;li&quot;, text=&quot;Horse&quot;, visible=True)</span>

<span class="sd">        ``has_selector`` can also accept XPath expressions generated by the ``xpath-py`` package::</span>

<span class="sd">            from xpath import dsl as x</span>

<span class="sd">            page.has_selector(&quot;xpath&quot;, x.descendant(&quot;p&quot;))</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: Variable length argument list for :class:`SelectorQuery`.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: If the expression exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assert_selector</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="n">ExpectationNotMet</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="MatchersMixin.has_no_selector"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_no_selector">[docs]</a>    <span class="k">def</span> <span class="nf">has_no_selector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if a given selector is not on the page or a descendant of the current node. Usage is</span>
<span class="sd">        identical to :meth:`has_selector`.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: Variable length argument list for :class:`SelectorQuery`.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Whether it doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assert_no_selector</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="n">ExpectationNotMet</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="MatchersMixin.has_style"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_style">[docs]</a>    <span class="k">def</span> <span class="nf">has_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">styles</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if an element has the specified CSS styles. ::</span>

<span class="sd">            element.has_style({&quot;color&quot;: &quot;rgb(0,0,255)&quot;, &quot;font-size&quot;: re.compile(r&quot;px&quot;)})</span>

<span class="sd">        Args:</span>
<span class="sd">            styles (Dict[str, str | RegexObject]): The expected styles.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Whether the styles match.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assert_style</span><span class="p">(</span><span class="n">styles</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="n">ExpectationNotMet</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="MatchersMixin.has_all_of_selectors"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_all_of_selectors">[docs]</a>    <span class="k">def</span> <span class="nf">has_all_of_selectors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">selector</span><span class="p">,</span> <span class="o">*</span><span class="n">locators</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if allof the provided selectors are present on the given page or descendants of the</span>
<span class="sd">        current node. If options are provided, the assertion will check that each locator is present</span>
<span class="sd">        with those options as well (other than ``wait``). ::</span>

<span class="sd">            page.assert_all_of_selectors(&quot;custom&quot;, &quot;Tom&quot;, &quot;Joe&quot;, visible=&quot;all&quot;)</span>
<span class="sd">            page.assert_all_of_selectors(&quot;css&quot;, &quot;#my_dif&quot;, &quot;a.not_clicked&quot;)</span>

<span class="sd">        It accepts all options that :meth:`find_all` accepts, such as ``text`` and ``visible``.</span>

<span class="sd">        The ``wait`` option applies to all of the selectors as a group, so all of the locators must</span>
<span class="sd">        be present within ``wait`` (defaults to :data:`capybara.default_max_wait_time`) seconds.</span>

<span class="sd">        If the given selector is not a valid selector, the first argument is assumed to be a locator</span>
<span class="sd">        and the default selector will be used.</span>

<span class="sd">        Args:</span>
<span class="sd">            selector (str, optional): The name of the selector to use. Defaults to</span>
<span class="sd">                :data:`capybara.default_selector`.</span>
<span class="sd">            *locators (str): Variable length list of locators.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assert_all_of_selectors</span><span class="p">(</span><span class="n">selector</span><span class="p">,</span> <span class="o">*</span><span class="n">locators</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="n">ExpectationNotMet</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="MatchersMixin.has_none_of_selectors"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_none_of_selectors">[docs]</a>    <span class="k">def</span> <span class="nf">has_none_of_selectors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">selector</span><span class="p">,</span> <span class="o">*</span><span class="n">locators</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if none of the provided selectors are present on the given page or descendants of the</span>
<span class="sd">        current node. If options are provided, the assertion will check that each locator is present</span>
<span class="sd">        with those options as well (other than ``wait``). ::</span>

<span class="sd">            page.assert_none_of_selectors(&quot;custom&quot;, &quot;Tom&quot;, &quot;Joe&quot;, visible=&quot;all&quot;)</span>
<span class="sd">            page.assert_none_of_selectors(&quot;css&quot;, &quot;#my_div&quot;, &quot;a.not_clicked&quot;)</span>

<span class="sd">        It accepts all options that :meth:`find_all` accepts, such as ``text`` and ``visible``.</span>

<span class="sd">        The ``wait`` option applies to all of the selectors as a group, so none of the locators must</span>
<span class="sd">        be present with ``wait`` (defaults to :data:`capybara.default_max_wait_time`) seconds.</span>

<span class="sd">        If the given selector is not a valid selector, the first argument is assumed to be a locator</span>
<span class="sd">        and the default selector will be used.</span>

<span class="sd">        Args:</span>
<span class="sd">            selector (str, optional): The name of the selector to use. Defaults to</span>
<span class="sd">                :data:`capybara.default_selector`.</span>
<span class="sd">            *locators (str): Variable length list of locators.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assert_none_of_selectors</span><span class="p">(</span><span class="n">selector</span><span class="p">,</span> <span class="o">*</span><span class="n">locators</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="n">ExpectationNotMet</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="MatchersMixin.matches_selector"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.matches_selector">[docs]</a>    <span class="k">def</span> <span class="nf">matches_selector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the current node matches the given selector.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: Variable length argument list for :class:`SelectorQuery`.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Whether it matches.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assert_matches_selector</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="n">ExpectationNotMet</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="MatchersMixin.not_match_selector"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.not_match_selector">[docs]</a>    <span class="k">def</span> <span class="nf">not_match_selector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the current node does not match the given selector. Usage is identical to</span>
<span class="sd">        :meth:`has_selector`.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: Variable length argument list for :class:`SelectorQuery`.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Whether it doesn&#39;t match.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assert_not_match_selector</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="n">ExpectationNotMet</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="MatchersMixin.assert_selector"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.assert_selector">[docs]</a>    <span class="k">def</span> <span class="nf">assert_selector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Asserts that a given selector is on the page or a descendant of the current node. ::</span>

<span class="sd">            page.assert_selector(&quot;p#foo&quot;)</span>

<span class="sd">        By default it will check if the expression occurs at least once, but a different number can</span>
<span class="sd">        be specified. ::</span>

<span class="sd">            page.assert_selector(&quot;p.foo&quot;, count=4)</span>

<span class="sd">        This will check if the expression occurs exactly 4 times. See :meth:`find_all` for other</span>
<span class="sd">        available result size options.</span>

<span class="sd">        If a ``count`` of 0 is specified, it will behave like :meth:`assert_no_selector`; however,</span>
<span class="sd">        use of that method is preferred over this one.</span>

<span class="sd">        It also accepts all options that :meth:`find_all` accepts, such as ``text`` and</span>
<span class="sd">        ``visible``. ::</span>

<span class="sd">            page.assert_selector(&quot;li&quot;, text=&quot;Horse&quot;, visible=True)</span>

<span class="sd">        ``assert_selector`` can also accept XPath expressions generated by the ``xpath-py``</span>
<span class="sd">        package::</span>

<span class="sd">            from xpath import dsl as x</span>

<span class="sd">            page.assert_selector(&quot;xpath&quot;, x.descendant(&quot;p&quot;))</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: Variable length argument list for :class:`SelectorQuery`.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True</span>

<span class="sd">        Raises:</span>
<span class="sd">            ExpectationNotMet: The given selector did not match.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">query</span> <span class="o">=</span> <span class="n">SelectorQuery</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">synchronize</span><span class="p">(</span><span class="n">wait</span><span class="o">=</span><span class="n">query</span><span class="o">.</span><span class="n">wait</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">assert_selector</span><span class="p">():</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">resolve_for</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">matches_count</span> <span class="ow">and</span>
                    <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">expects_none</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">options</span><span class="p">))):</span>
                <span class="k">raise</span> <span class="n">ExpectationNotMet</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">failure_message</span><span class="p">)</span>

            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="n">assert_selector</span><span class="p">()</span></div>

<div class="viewcode-block" id="MatchersMixin.assert_style"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.assert_style">[docs]</a>    <span class="k">def</span> <span class="nf">assert_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">styles</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Asserts that an element has the specified CSS styles. ::</span>

<span class="sd">            element.assert_style({&quot;color&quot;: &quot;rgb(0,0,255)&quot;, &quot;font-size&quot;: re.compile(r&quot;px&quot;)})</span>

<span class="sd">        Args:</span>
<span class="sd">            styles (Dict[str, str | RegexObject]): The expected styles.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True</span>

<span class="sd">        Raises:</span>
<span class="sd">            ExpectationNotMet: The element doesn&#39;t have the specified styles.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">query</span> <span class="o">=</span> <span class="n">StyleQuery</span><span class="p">(</span><span class="n">styles</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">synchronize</span><span class="p">(</span><span class="n">wait</span><span class="o">=</span><span class="n">query</span><span class="o">.</span><span class="n">wait</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">assert_style</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">query</span><span class="o">.</span><span class="n">resolves_for</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">ExpectationNotMet</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">failure_message</span><span class="p">)</span>

            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="n">assert_style</span><span class="p">()</span></div>

<div class="viewcode-block" id="MatchersMixin.assert_all_of_selectors"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.assert_all_of_selectors">[docs]</a>    <span class="k">def</span> <span class="nf">assert_all_of_selectors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">selector</span><span class="p">,</span> <span class="o">*</span><span class="n">locators</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Asserts that all of the provided selectors are present on the given page or descendants of</span>
<span class="sd">        the current node. If options are provided, the assertion will check that each locator is</span>
<span class="sd">        present with those options as well (other than ``wait``). ::</span>

<span class="sd">            page.assert_all_of_selectors(&quot;custom&quot;, &quot;Tom&quot;, &quot;Joe&quot;, visible=&quot;all&quot;)</span>
<span class="sd">            page.assert_all_of_selectors(&quot;css&quot;, &quot;#my_dif&quot;, &quot;a.not_clicked&quot;)</span>

<span class="sd">        It accepts all options that :meth:`find_all` accepts, such as ``text`` and ``visible``.</span>

<span class="sd">        The ``wait`` option applies to all of the selectors as a group, so all of the locators must</span>
<span class="sd">        be present within ``wait`` (defaults to :data:`capybara.default_max_wait_time`) seconds.</span>

<span class="sd">        If the given selector is not a valid selector, the first argument is assumed to be a locator</span>
<span class="sd">        and the default selector will be used.</span>

<span class="sd">        Args:</span>
<span class="sd">            selector (str, optional): The name of the selector to use. Defaults to</span>
<span class="sd">                :data:`capybara.default_selector`.</span>
<span class="sd">            *locators (str): Variable length list of locators.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">wait</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;wait&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="s1">&#39;wait&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="k">else</span> <span class="n">capybara</span><span class="o">.</span><span class="n">default_max_wait_time</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">selector</span><span class="p">,</span> <span class="n">Hashable</span><span class="p">)</span> <span class="ow">or</span> <span class="n">selector</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">selectors</span><span class="p">:</span>
            <span class="n">locators</span> <span class="o">=</span> <span class="p">(</span><span class="n">selector</span><span class="p">,)</span> <span class="o">+</span> <span class="n">locators</span>
            <span class="n">selector</span> <span class="o">=</span> <span class="n">capybara</span><span class="o">.</span><span class="n">default_selector</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">synchronize</span><span class="p">(</span><span class="n">wait</span><span class="o">=</span><span class="n">wait</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">assert_all_of_selectors</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">locator</span> <span class="ow">in</span> <span class="n">locators</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assert_selector</span><span class="p">(</span><span class="n">selector</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="n">assert_all_of_selectors</span><span class="p">()</span></div>

<div class="viewcode-block" id="MatchersMixin.assert_none_of_selectors"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.assert_none_of_selectors">[docs]</a>    <span class="k">def</span> <span class="nf">assert_none_of_selectors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">selector</span><span class="p">,</span> <span class="o">*</span><span class="n">locators</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Asserts that none of the provided selectors are present on the given page or descendants of</span>
<span class="sd">        the current node. If options are provided, the assertion will check that each locator is</span>
<span class="sd">        present with those options as well (other than ``wait``). ::</span>

<span class="sd">            page.assert_none_of_selectors(&quot;custom&quot;, &quot;Tom&quot;, &quot;Joe&quot;, visible=&quot;all&quot;)</span>
<span class="sd">            page.assert_none_of_selectors(&quot;css&quot;, &quot;#my_div&quot;, &quot;a.not_clicked&quot;)</span>

<span class="sd">        It accepts all options that :meth:`find_all` accepts, such as ``text`` and ``visible``.</span>

<span class="sd">        The ``wait`` option applies to all of the selectors as a group, so none of the locators must</span>
<span class="sd">        be present with ``wait`` (defaults to :data:`capybara.default_max_wait_time`) seconds.</span>

<span class="sd">        If the given selector is not a valid selector, the first argument is assumed to be a locator</span>
<span class="sd">        and the default selector will be used.</span>

<span class="sd">        Args:</span>
<span class="sd">            selector (str, optional): The name of the selector to use. Defaults to</span>
<span class="sd">                :data:`capybara.default_selector`.</span>
<span class="sd">            *locators (str): Variable length list of locators.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">wait</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;wait&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="s1">&#39;wait&#39;</span> <span class="ow">in</span> <span class="n">kwargs</span> <span class="k">else</span> <span class="n">capybara</span><span class="o">.</span><span class="n">default_max_wait_time</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">selector</span><span class="p">,</span> <span class="n">Hashable</span><span class="p">)</span> <span class="ow">or</span> <span class="n">selector</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">selectors</span><span class="p">:</span>
            <span class="n">locators</span> <span class="o">=</span> <span class="p">(</span><span class="n">selector</span><span class="p">,)</span> <span class="o">+</span> <span class="n">locators</span>
            <span class="n">selector</span> <span class="o">=</span> <span class="n">capybara</span><span class="o">.</span><span class="n">default_selector</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">synchronize</span><span class="p">(</span><span class="n">wait</span><span class="o">=</span><span class="n">wait</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">assert_none_of_selectors</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">locator</span> <span class="ow">in</span> <span class="n">locators</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assert_no_selector</span><span class="p">(</span><span class="n">selector</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="n">assert_none_of_selectors</span><span class="p">()</span></div>

<div class="viewcode-block" id="MatchersMixin.assert_no_selector"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.assert_no_selector">[docs]</a>    <span class="k">def</span> <span class="nf">assert_no_selector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Asserts that a given selector is not on the page or a descendant of the current node. Usage</span>
<span class="sd">        is identical to :meth:`assert_selector`.</span>

<span class="sd">        Query options such as ``count``, ``minimum``, and ``between`` are considered to be an</span>
<span class="sd">        integral part of the selector. This will return True, for example, if a page contains 4</span>
<span class="sd">        anchors but the query expects 5::</span>

<span class="sd">            page.assert_no_selector(&quot;a&quot;, minimum=1)  # Found, raises ExpectationNotMet</span>
<span class="sd">            page.assert_no_selector(&quot;a&quot;, count=4)    # Found, raises ExpectationNotMet</span>
<span class="sd">            page.assert_no_selector(&quot;a&quot;, count=5)    # Not Found, returns True</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: Variable length argument list for :class:`SelectorQuery`.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True</span>

<span class="sd">        Raises:</span>
<span class="sd">            ExpectationNotMet: The given selector matched.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">query</span> <span class="o">=</span> <span class="n">SelectorQuery</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">synchronize</span><span class="p">(</span><span class="n">wait</span><span class="o">=</span><span class="n">query</span><span class="o">.</span><span class="n">wait</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">assert_no_selector</span><span class="p">():</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">resolve_for</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">matches_count</span> <span class="ow">and</span> <span class="p">(</span>
                   <span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">expects_none</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">options</span><span class="p">)):</span>
                <span class="k">raise</span> <span class="n">ExpectationNotMet</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">negative_failure_message</span><span class="p">)</span>

            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="n">assert_no_selector</span><span class="p">()</span></div>

    <span class="n">refute_selector</span> <span class="o">=</span> <span class="n">assert_no_selector</span>
    <span class="sd">&quot;&quot;&quot; Alias for :meth:`assert_no_selector`. &quot;&quot;&quot;</span>

<div class="viewcode-block" id="MatchersMixin.assert_matches_selector"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.assert_matches_selector">[docs]</a>    <span class="k">def</span> <span class="nf">assert_matches_selector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Asserts that the current node matches a given selector. ::</span>

<span class="sd">            node.assert_matches_selector(&quot;p#foo&quot;)</span>
<span class="sd">            node.assert_matches_selector(&quot;xpath&quot;, &quot;//p[@id=&#39;foo&#39;]&quot;)</span>

<span class="sd">        It also accepts all options that :meth:`find_all` accepts, such as ``text`` and</span>
<span class="sd">        ``visible``. ::</span>

<span class="sd">            node.assert_matches_selector(&quot;li&quot;, text=&quot;Horse&quot;, visible=True)</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: Variable length argument list for :class:`SelectorQuery`.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True</span>

<span class="sd">        Raises:</span>
<span class="sd">            ExpectationNotMet: If the selector does not match.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">query</span> <span class="o">=</span> <span class="n">SelectorQuery</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">synchronize</span><span class="p">(</span><span class="n">wait</span><span class="o">=</span><span class="n">query</span><span class="o">.</span><span class="n">wait</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">assert_matches_selector</span><span class="p">():</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">resolve_for</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">find_first</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;./parent::*&quot;</span><span class="p">,</span> <span class="n">minimum</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">query_scope</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ExpectationNotMet</span><span class="p">(</span><span class="s2">&quot;Item does not match the provided selector&quot;</span><span class="p">)</span>

            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="n">assert_matches_selector</span><span class="p">()</span></div>

<div class="viewcode-block" id="MatchersMixin.assert_not_match_selector"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.assert_not_match_selector">[docs]</a>    <span class="k">def</span> <span class="nf">assert_not_match_selector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Asserts that the current node does not match a given selector. See</span>
<span class="sd">        :meth:`assert_matches_selector`.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: Variable length argument list for :class:`SelectorQuery`.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True</span>

<span class="sd">        Raises:</span>
<span class="sd">            ExpectationNotMet: If the selector matches.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">query</span> <span class="o">=</span> <span class="n">SelectorQuery</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">synchronize</span><span class="p">(</span><span class="n">wait</span><span class="o">=</span><span class="n">query</span><span class="o">.</span><span class="n">wait</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">assert_not_match_selector</span><span class="p">():</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">resolve_for</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">find_first</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="s2">&quot;./parent::*&quot;</span><span class="p">,</span> <span class="n">minimum</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">query_scope</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ExpectationNotMet</span><span class="p">(</span><span class="s2">&quot;Item matched the provided selector&quot;</span><span class="p">)</span>

            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="n">assert_not_match_selector</span><span class="p">()</span></div>

    <span class="n">refute_matches_selector</span> <span class="o">=</span> <span class="n">assert_not_match_selector</span>
    <span class="sd">&quot;&quot;&quot; Alias for :meth:`assert_not_match_selector`. &quot;&quot;&quot;</span>

<div class="viewcode-block" id="MatchersMixin.matches_xpath"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.matches_xpath">[docs]</a>    <span class="k">def</span> <span class="nf">matches_xpath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xpath</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the current node matches the given XPath expression.</span>

<span class="sd">        Args:</span>
<span class="sd">            xpath (str | xpath.expression.Expression): The XPath expression to match against the</span>
<span class="sd">                current node.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Return:</span>
<span class="sd">            bool: Whether it matches.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">matches_selector</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">xpath</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.not_match_xpath"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.not_match_xpath">[docs]</a>    <span class="k">def</span> <span class="nf">not_match_xpath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xpath</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the current node does not match the given XPath expression.</span>

<span class="sd">        Args:</span>
<span class="sd">            xpath (str | xpath.expression.Expression): The XPath expression to match against the</span>
<span class="sd">                current node.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Return:</span>
<span class="sd">            bool: Whether it doesn&#39;t match.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">not_match_selector</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">xpath</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.matches_css"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.matches_css">[docs]</a>    <span class="k">def</span> <span class="nf">matches_css</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">css</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the current node matches the given CSS selector.</span>

<span class="sd">        Args:</span>
<span class="sd">            css (str): The CSS selector to match against the current node.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Return:</span>
<span class="sd">            bool: Whether it matches.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">matches_selector</span><span class="p">(</span><span class="s2">&quot;css&quot;</span><span class="p">,</span> <span class="n">css</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.not_match_css"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.not_match_css">[docs]</a>    <span class="k">def</span> <span class="nf">not_match_css</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">css</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the current node does not match the given CSS selector.</span>

<span class="sd">        Args:</span>
<span class="sd">            css (str): The CSS selector to match against the current node.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Return:</span>
<span class="sd">            bool: Whether it doesn&#39;t match.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">not_match_selector</span><span class="p">(</span><span class="s2">&quot;css&quot;</span><span class="p">,</span> <span class="n">css</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.has_xpath"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_xpath">[docs]</a>    <span class="k">def</span> <span class="nf">has_xpath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if a given XPath expression is on the page or a descendant of the current node. ::</span>

<span class="sd">            session.has_xpath(&quot;.//p[@id=&#39;foo&#39;]&quot;)</span>

<span class="sd">        ``has_xpath`` can also accept XPath expressions generated by the ``xpath-py`` package::</span>

<span class="sd">            from xpath import dsl as x</span>

<span class="sd">            session.has_xpath(x.descendant(&quot;p&quot;))</span>

<span class="sd">        Args:</span>
<span class="sd">            query (str): An XPath expression.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Return:</span>
<span class="sd">            bool: If the expression exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_selector</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.has_no_xpath"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_no_xpath">[docs]</a>    <span class="k">def</span> <span class="nf">has_no_xpath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if a given XPath expression is not on the page or a descendant of the current node.</span>
<span class="sd">        Usage is identical to :meth:`has_xpath`.</span>

<span class="sd">        Args:</span>
<span class="sd">            path (str): An XPath expression.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Return:</span>
<span class="sd">            bool: If the expression does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_no_selector</span><span class="p">(</span><span class="s2">&quot;xpath&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.has_css"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_css">[docs]</a>    <span class="k">def</span> <span class="nf">has_css</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if a given CSS selector is on the page or a descendant of the current node. ::</span>

<span class="sd">            page.has_css(&quot;p#foo&quot;)</span>

<span class="sd">        By default it will check if the selector occurs at least once, but a different number can</span>
<span class="sd">        be specified. ::</span>

<span class="sd">            page.has_css(&quot;p#foo&quot;, count=4)</span>

<span class="sd">        This will check if the selector occurs exactly 4 times.</span>

<span class="sd">        It also accepts all options that :meth:`find_all` accepts, such as ``text`` and</span>
<span class="sd">        ``visible``. ::</span>

<span class="sd">            page.has_css(&quot;li&quot;, text=&quot;Horse&quot;, visible=True)</span>

<span class="sd">        Args:</span>
<span class="sd">            path (str): A CSS selector.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Return:</span>
<span class="sd">            bool: If the selector exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_selector</span><span class="p">(</span><span class="s2">&quot;css&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.has_no_css"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_no_css">[docs]</a>    <span class="k">def</span> <span class="nf">has_no_css</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if a given CSS selector is not on the page or a descendant of the current node.</span>
<span class="sd">        Usage is identical to :meth:`has_css`.</span>

<span class="sd">        Args:</span>
<span class="sd">            path (str): A CSS Selector.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Return:</span>
<span class="sd">            bool: If the selector does not exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_no_selector</span><span class="p">(</span><span class="s2">&quot;css&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.has_button"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_button">[docs]</a>    <span class="k">def</span> <span class="nf">has_button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the page or current node has a button with the given text, value, or id.</span>

<span class="sd">        Args:</span>
<span class="sd">            locator (str): The text, value, or id of a button to check for.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Whether it exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_selector</span><span class="p">(</span><span class="s2">&quot;button&quot;</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.has_no_button"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_no_button">[docs]</a>    <span class="k">def</span> <span class="nf">has_no_button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the page or current node has no button with the given text, value, or id.</span>

<span class="sd">        Args:</span>
<span class="sd">            locator (str): The text, value, or id of a button to check for.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Whether it doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_no_selector</span><span class="p">(</span><span class="s2">&quot;button&quot;</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.has_checked_field"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_checked_field">[docs]</a>    <span class="k">def</span> <span class="nf">has_checked_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the page or current node has a radio button or checkbox with the given label,</span>
<span class="sd">        value, or id, that is currently checked.</span>

<span class="sd">        Args:</span>
<span class="sd">            locator (str): The label, name, or id of a checked field.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Whether it exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;checked&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_selector</span><span class="p">(</span><span class="s2">&quot;field&quot;</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.has_no_checked_field"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_no_checked_field">[docs]</a>    <span class="k">def</span> <span class="nf">has_no_checked_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the page or current node has no radio button or checkbox with the given label,</span>
<span class="sd">        value, or id that is currently checked.</span>

<span class="sd">        Args:</span>
<span class="sd">            locator (str): The label, name, or id of a checked field.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Whether it doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;checked&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_no_selector</span><span class="p">(</span><span class="s2">&quot;field&quot;</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.has_field"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_field">[docs]</a>    <span class="k">def</span> <span class="nf">has_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the page or current node has a form field with the given label, name, or id.</span>

<span class="sd">        For text fields and other textual fields, such as textareas and HTML5 email/url/etc. fields,</span>
<span class="sd">        it&#39;s possible to specify a ``value`` argument to specify the text the field should contain::</span>

<span class="sd">            page.has_field(&quot;Name&quot;, value=&quot;Jonas&quot;)</span>

<span class="sd">        Args:</span>
<span class="sd">            locator (str): The label, name, or id of a field to check for.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Whether it exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_selector</span><span class="p">(</span><span class="s2">&quot;field&quot;</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.has_no_field"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_no_field">[docs]</a>    <span class="k">def</span> <span class="nf">has_no_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the page or current node has no form field with the given label, name, or id. See</span>
<span class="sd">        :meth:`has_field`.</span>

<span class="sd">        Args:</span>
<span class="sd">            locator (str): The label, name, or id of a field to check for.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Whether it doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_no_selector</span><span class="p">(</span><span class="s2">&quot;field&quot;</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.has_link"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_link">[docs]</a>    <span class="k">def</span> <span class="nf">has_link</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the page or current node has a link with the given text or id.</span>

<span class="sd">        Args:</span>
<span class="sd">            locator (str): The text or id of a link to check for.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Whether it exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_selector</span><span class="p">(</span><span class="s2">&quot;link&quot;</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.has_no_link"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_no_link">[docs]</a>    <span class="k">def</span> <span class="nf">has_no_link</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the page or current node has no link with the given text or id.</span>

<span class="sd">        Args:</span>
<span class="sd">            locator (str): The text or id of a link to check for.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Whether it doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_no_selector</span><span class="p">(</span><span class="s2">&quot;link&quot;</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.has_select"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_select">[docs]</a>    <span class="k">def</span> <span class="nf">has_select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the page or current node has a select field with the given label, name, or id.</span>

<span class="sd">        It can be specified which option should currently be selected::</span>

<span class="sd">            page.has_select(&quot;Language&quot;, selected=&quot;German&quot;)</span>

<span class="sd">        For multiple select boxes, several options may be specified::</span>

<span class="sd">            page.has_select(&quot;Language&quot;, selected=[&quot;English&quot;, &quot;German&quot;])</span>

<span class="sd">        It&#39;s also possible to check if the exact set of options exists for this select box::</span>

<span class="sd">            page.has_select(&quot;Language&quot;, options=[&quot;English&quot;, &quot;German&quot;, &quot;Spanish&quot;])</span>

<span class="sd">        You can also check for a partial set of options::</span>

<span class="sd">            page.has_select(&quot;Language&quot;, with_options=[&quot;English&quot;, &quot;German&quot;])</span>

<span class="sd">        Args:</span>
<span class="sd">            locator (str): The label, name, or id of a select box.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Whether it exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_selector</span><span class="p">(</span><span class="s2">&quot;select&quot;</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.has_no_select"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_no_select">[docs]</a>    <span class="k">def</span> <span class="nf">has_no_select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the page or current node has no select field with the given label, name, or id.</span>
<span class="sd">        See :meth:`has_select`.</span>

<span class="sd">        Args:</span>
<span class="sd">            locator (str): The label, name, or id of a select box.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Whether it doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_no_selector</span><span class="p">(</span><span class="s2">&quot;select&quot;</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.has_table"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_table">[docs]</a>    <span class="k">def</span> <span class="nf">has_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the page or current node has a table with the given id or caption::</span>

<span class="sd">            page.has_table(&quot;People&quot;)</span>

<span class="sd">        Args:</span>
<span class="sd">            locator (str): The id or caption of a table.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Whether it exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_selector</span><span class="p">(</span><span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.has_no_table"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_no_table">[docs]</a>    <span class="k">def</span> <span class="nf">has_no_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the page or current node has no table with the given id or caption. See</span>
<span class="sd">        :meth:`has_table`.</span>

<span class="sd">        Args:</span>
<span class="sd">            locator (str): The id or caption of a table.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Whether it doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_no_selector</span><span class="p">(</span><span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.has_unchecked_field"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_unchecked_field">[docs]</a>    <span class="k">def</span> <span class="nf">has_unchecked_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the page or current node has a radio button or checkbox with the given label,</span>
<span class="sd">        value, or id, that is currently unchecked.</span>

<span class="sd">        Args:</span>
<span class="sd">            locator (str): The label, name, or id of an unchecked field.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Whether it exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;checked&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_selector</span><span class="p">(</span><span class="s2">&quot;field&quot;</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.has_no_unchecked_field"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_no_unchecked_field">[docs]</a>    <span class="k">def</span> <span class="nf">has_no_unchecked_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the page or current node has no radio button or checkbox with the given label,</span>
<span class="sd">        value, or id, that is currently unchecked.</span>

<span class="sd">        Args:</span>
<span class="sd">            locator (str): The label, name, or id of an unchecked field.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`SelectorQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Whether it doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;checked&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_no_selector</span><span class="p">(</span><span class="s2">&quot;field&quot;</span><span class="p">,</span> <span class="n">locator</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="MatchersMixin.assert_text"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.assert_text">[docs]</a>    <span class="k">def</span> <span class="nf">assert_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Asserts that the page or current node has the given text content, ignoring any HTML tags.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: Variable length argument list for :class:`TextQuery`.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`TextQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True</span>

<span class="sd">        Raises:</span>
<span class="sd">            ExpectationNotMet: If the assertion hasn&#39;t succeeded during the wait time.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">query</span> <span class="o">=</span> <span class="n">TextQuery</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">synchronize</span><span class="p">(</span><span class="n">wait</span><span class="o">=</span><span class="n">query</span><span class="o">.</span><span class="n">wait</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">assert_text</span><span class="p">():</span>
            <span class="n">count</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">resolve_for</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">matches_count</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="n">query</span><span class="o">.</span><span class="n">options</span><span class="p">)</span> <span class="ow">and</span>
                    <span class="p">(</span><span class="n">count</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">expects_none</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">options</span><span class="p">))):</span>
                <span class="k">raise</span> <span class="n">ExpectationNotMet</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">failure_message</span><span class="p">)</span>

            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="n">assert_text</span><span class="p">()</span></div>

<div class="viewcode-block" id="MatchersMixin.assert_no_text"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.assert_no_text">[docs]</a>    <span class="k">def</span> <span class="nf">assert_no_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Asserts that the page or current node doesn&#39;t have the given text content, ignoring any</span>
<span class="sd">        HTML tags.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: Variable length argument list for :class:`TextQuery`.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`TextQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            True</span>

<span class="sd">        Raises:</span>
<span class="sd">            ExpectationNotMet: If the assertion hasn&#39;t succeeded during the wait time.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">query</span> <span class="o">=</span> <span class="n">TextQuery</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="nd">@self</span><span class="o">.</span><span class="n">synchronize</span><span class="p">(</span><span class="n">wait</span><span class="o">=</span><span class="n">query</span><span class="o">.</span><span class="n">wait</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">assert_no_text</span><span class="p">():</span>
            <span class="n">count</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">resolve_for</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">matches_count</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="n">query</span><span class="o">.</span><span class="n">options</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
                   <span class="n">count</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">expects_none</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">options</span><span class="p">)):</span>
                <span class="k">raise</span> <span class="n">ExpectationNotMet</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">negative_failure_message</span><span class="p">)</span>

            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="n">assert_no_text</span><span class="p">()</span></div>

<div class="viewcode-block" id="MatchersMixin.has_text"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_text">[docs]</a>    <span class="k">def</span> <span class="nf">has_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the page or current node has the given text content, ignoring any HTML tags.</span>

<span class="sd">        Whitespaces are normalized in both the node&#39;s text and the passed text parameter. Note that</span>
<span class="sd">        whitespace isn&#39;t normalized in a passed regular expression as normalizing whitespace in a</span>
<span class="sd">        regular expression isn&#39;t easy and doesn&#39;t seem to be worth it.</span>

<span class="sd">        By default it will check if the text occurs at least once, but a different number can be</span>
<span class="sd">        specified. ::</span>

<span class="sd">            page.has_text(&quot;lorem ipsum&quot;, between=range(2, 5))</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: Variable length argument list for :class:`TextQuery`.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`TextQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Whether it exists.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">assert_text</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ExpectationNotMet</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

    <span class="n">has_content</span> <span class="o">=</span> <span class="n">has_text</span>
    <span class="sd">&quot;&quot;&quot; Alias for :meth:`has_text`. &quot;&quot;&quot;</span>

<div class="viewcode-block" id="MatchersMixin.has_no_text"><a class="viewcode-back" href="../../../capybara.node.html#capybara.dsl.MatchersMixin.has_no_text">[docs]</a>    <span class="k">def</span> <span class="nf">has_no_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the page or current node does not have the given text content, ignoring any HTML</span>
<span class="sd">        tags and normalizing whitespace.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: Variable length argument list for :class:`TextQuery`.</span>
<span class="sd">            **kwargs: Arbitrary keyword arguments for :class:`TextQuery`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Whether it doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">assert_no_text</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ExpectationNotMet</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

    <span class="n">has_no_content</span> <span class="o">=</span> <span class="n">has_no_text</span>
    <span class="sd">&quot;&quot;&quot; Alias for :meth:`has_no_text`. &quot;&quot;&quot;</span></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">Capybara</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.html">Module code</a><ul>
  <li><a href="../../capybara.html">capybara</a><ul>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Ian Lesperance.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
    </div>

    

    
  </body>
</html>